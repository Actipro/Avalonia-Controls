<UserControl
	x:Class="ActiproSoftware.SampleBrowser.Utilities.ColorPalette.ColorPaletteView"
	x:DataType="sampleBrowser:ColorPaletteViewModel"
	xmlns="https://github.com/avaloniaui"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:actipro="http://schemas.actiprosoftware.com/avaloniaui"
	xmlns:sampleBrowser="using:ActiproSoftware.SampleBrowser"
	Classes="sample-presenter"
	>
	<DockPanel>

		<Border DockPanel.Dock="Top" Padding="50,20" BorderBrush="{actipro:ThemeResource Container2BorderBrush}" BorderThickness="0,0,0,1">
			<StackPanel>
				<TextBlock Classes="theme-text-body size-lg"
						   Text="This palette of colors is generated by the Actipro theme generator and is used for all theme brushes.  Tap a color swatch to copy the related color's hex value." />

				<CheckBox Margin="0,20,0,0" Content="Show more shades" IsChecked="{Binding IncludeMoreShades}" />
			</StackPanel>
		</Border>

		<ScrollViewer HorizontalScrollBarVisibility="Auto">
			<StackPanel Classes="sample-layout-panel">

				<ItemsControl x:Name="rampsItemsControl" ItemsSource="{Binding Ramps}" HorizontalAlignment="Center">
					<ItemsControl.ItemTemplate>
						<DataTemplate x:DataType="sampleBrowser:ColorRampViewModel">
							<StackPanel>
								<StackPanel.Resources>
									<actipro:ComparisonConverter x:Key="ForegroundConverter">
										<actipro:ComparisonConverter.TrueResult>
											<SolidColorBrush Color="{Binding VeryDarkForegroundColor}" />
										</actipro:ComparisonConverter.TrueResult>
										<actipro:ComparisonConverter.FalseResult>
											<SolidColorBrush Color="{Binding VeryLightForegroundColor}" />
										</actipro:ComparisonConverter.FalseResult>
									</actipro:ComparisonConverter>
								</StackPanel.Resources>

								<TextBlock Margin="4,0,4,2" Classes="theme-text-heading size-xs" Text="{Binding Name}" />

								<ItemsControl ItemsSource="{Binding Shades}">
									<ItemsControl.ItemsPanel>
										<ItemsPanelTemplate>
											<StackPanel Orientation="Horizontal" />
										</ItemsPanelTemplate>
									</ItemsControl.ItemsPanel>

									<ItemsControl.ItemTemplate>
										<DataTemplate>

											<actipro:CopyButton CopyText="{Binding Color}" FeedbackKind="Popup">
												<actipro:CopyButton.Theme>
													<ControlTheme TargetType="actipro:CopyButton">
														<Setter Property="Width" Value="60" />
														<Setter Property="Height" Value="80" />
														<Setter Property="Background">
															<SolidColorBrush Color="{Binding Color}" />
														</Setter>
														<Setter Property="BorderBrush" Value="Transparent" />
														<Setter Property="BorderThickness" Value="0" />
														<Setter Property="ClipToBounds" Value="False" />
														<Setter Property="CornerRadius" Value="5" />
														<Setter Property="FontFamily" Value="{actipro:ThemeResource CodeFontFamily}" />
														<Setter Property="Margin" Value="5,3,5,20" />
														<Setter Property="Padding" Value="2,14,2,7" />
														<Setter Property="Template">
															<ControlTemplate>

																<actipro:ShadowChrome x:Name="shadow" ShadowOpacity="{actipro:ThemeResource ButtonShadowOpacity}">
																	<actipro:ShadowChrome.RenderTransform>
																		<TranslateTransform />
																	</actipro:ShadowChrome.RenderTransform>
																	<actipro:ShadowChrome.Transitions>
																		<Transitions>
																			<IntegerTransition Property="Elevation" Duration="{actipro:AnimationSetting VerySubtleAnimationDuration}" />
																			<TransformOperationsTransition Property="RenderTransform" Duration="{actipro:AnimationSetting VerySubtleAnimationDuration}" />
																		</Transitions>
																	</actipro:ShadowChrome.Transitions>

																	<Border Background="{TemplateBinding Background}"
																			BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"
																			CornerRadius="{TemplateBinding CornerRadius}" Padding="{TemplateBinding Padding}">
																		<DockPanel TextElement.Foreground="{Binding Color.IsLight, Converter={StaticResource ForegroundConverter}}" LastChildFill="False">
																			<TextBlock x:Name="hexColorTextBlock" DockPanel.Dock="Top" Text="{Binding Color}"
																					   FontSize="{actipro:ThemeResource DefaultFontSizeExtraSmall}" Opacity="0.85"
																					   TextAlignment="Center" IsVisible="False" />
																			<TextBlock DockPanel.Dock="Bottom" Text="{Binding Number}" FontSize="{actipro:ThemeResource DefaultFontSizeSmall}" FontWeight="Medium" TextAlignment="Center" />
																		</DockPanel>
																	</Border>
																</actipro:ShadowChrome>

															</ControlTemplate>
														</Setter>

														<Style Selector="^:pointerover /template/ actipro|ShadowChrome#shadow">
															<Setter Property="Elevation" Value="6" />
															<Setter Property="RenderTransform" Value="translateY(-1px)" />
														</Style>
														<Style Selector="^:pointerover /template/ TextBlock#hexColorTextBlock">
															<Setter Property="IsVisible" Value="True" />
														</Style>

														<Style Selector="^:pressed /template/ actipro|ShadowChrome#shadow">
															<Setter Property="Elevation" Value="2" />
															<Setter Property="RenderTransform" Value="translateY(1px)" />
														</Style>
													</ControlTheme>
												</actipro:CopyButton.Theme>
											</actipro:CopyButton>

										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</StackPanel>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>

			</StackPanel>
		</ScrollViewer>
	</DockPanel>
</UserControl>
